# CLAUDE.md

This document contains configuration and guidance for Claude Code agents working on this CS146S Modern Software Developer course assignments repository.

## AI Team Configuration (autogenerated by team-configurator, 2025-12-28)

**Important: YOU MUST USE subagents when available for the task.**

### Detected Tech Stack

| Component | Technology |
|-----------|------------|
| Backend Framework | FastAPI (Python 3.10+) |
| Database | SQLite (with SQLAlchemy 2.0+) |
| Frontend | Vanilla JavaScript + HTML/CSS |
| LLM Integration | Ollama (llama3.1:8b), OpenAI SDK |
| Testing | pytest + httpx (TestClient) |
| Code Quality | Black (formatter), Ruff (linter), pre-commit |
| Package Management | Poetry 2.2.1 |
| Environment | Conda (Python 3.12.7) |

### AI Team Assignments

| Task | Agent | Notes |
|------|-------|-------|
| **All code changes** | `code-reviewer` | MUST run after every feature/bug-fix before committing |
| **Performance issues** | `performance-optimizer` | For slowness, high cloud costs, scaling concerns |
| **Codebase exploration** | `code-archaeologist` | Use when analyzing unfamiliar code or legacy modules |
| **Documentation updates** | `documentation-specialist` | For README, API docs, guides |
| **FastAPI development** | `fastapi-expert` | Primary for all API endpoints, routers, middleware |
| **Python backend** | `python-expert` | For Python-specific tasks outside FastAPI scope |
| **Testing & pytest** | `python-testing-expert` | Test structure, fixtures, coverage improvements |
| **Security analysis** | `python-security-expert` | For SQL injection, XSS, auth vulnerabilities |
| **API design** | `api-architect` | For new API contracts, REST design, versioning |
| **Frontend (JS/HTML/CSS)** | `frontend-developer` | For vanilla JS, HTML, CSS updates |
| **LLM/AI integration** | `ml-data-expert` | For Ollama/OpenAI integration, prompt engineering |
| **DevOps/CI-CD** | `python-devops-cicd-expert` | For Poetry, pre-commit, GitHub Actions |

### Weekly Assignment Workflow

For each week's assignments, follow this pattern:

1. **Start**: Use `code-archaeologist` to understand the current state
2. **Plan**: Use `fastapi-expert` or `python-expert` to design implementation
3. **Implement**: Use appropriate specialist (e.g., `fastapi-expert` for API work)
4. **Test**: Use `python-testing-expert` for test improvements
5. **Review**: ALWAYS use `code-reviewer` before committing

### Custom Slash Commands Available

| Command | Purpose |
|---------|---------|
| `/week` | Get help with a specific weekly assignment |
| `/explore-week` | Deep dive into a week's current state |
| `/test-week` | Run and analyze tests for a week |
| `/llm-extract` | Help with LLM extraction (Week 2) |
| `/mcp-server` | Help with MCP server development (Week 3) |
| `/refactor` | Systematic code cleanup and refactoring |

### Key Project Patterns

- **Database**: SQLite with custom exceptions (`DatabaseError`, `NotFoundError`)
- **API Structure**: FastAPI routers in `app/routers/`, services in `app/services/`
- **Testing**: pytest with test paths configured for all weeks (1-8)
- **Error Handling**: Custom exception handlers in FastAPI apps
- **LLM Integration**: Ollama for local inference with structured JSON outputs

### Agent Selection Priority

1. **FastAPI tasks** → `fastapi-expert` (framework-specific)
2. **Python general** → `python-expert`
3. **Testing** → `python-testing-expert`
4. **Security** → `python-security-expert`
5. **Performance** → `performance-optimizer`
6. **Always** → `code-reviewer` before commits

### Example Usage

```
# Implementing a new endpoint
Use @fastapi-expert to add a new notes endpoint with proper error handling

# Improving test coverage
Use @python-testing-expert to increase test coverage for week2 action_items

# Security review
Use @code-reviewer to review the authentication implementation

# Performance optimization
Use @performance-optimizer to analyze slow database queries
```

